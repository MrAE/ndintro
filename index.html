<!DOCTYPE html>
<html>
  <head>
      <link href="https://file.myfontastic.com/n6vo44Re5QaWo8oCKShBs7/icons.css" rel="stylesheet">
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- bower:css -->
    <!-- <link rel="stylesheet" href="/content/themes/jhu_id/bower_components/normalize-css/normalize.css"> -->
    <link rel="stylesheet" href="fonts/gentona/gentona.css">
    <link rel="stylesheet" href="fonts/titling-gothic/titling-gothic.css">
    <link rel="stylesheet" href="fonts/quadon/quadon.css">
    <link rel="stylesheet" href="fonts/arnhem/arnhem.css">
    <!-- endbower -->

    <title>NeuroData Intro</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <style type="text/css">
      @import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
      @import url(https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
      @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);
      @import url(http://fonts.googleapis.com/css?family=Varela+Round:regular,italic,bold,bolditalic);
      @import url(http://fonts.googleapis.com/css?family=Raleway:regular,italic,bold,bolditalic);

      body {
        font-family: 'gentona'; /* Varela Round */
      }
      /*      h1, h2, h3, h4, h5, h6 {
        font-family: 'quadon';
      }      */      
      h1, h2, h3, h4, h5, h6 {
        font-family: 'quadon';
        font-weight: 400;
        margin-bottom: 0;
      }

      .remark-slide-content h1 { font-size: 3em; }
      .remark-slide-content h2 { font-size: 2em; }
      .remark-slide-content h3 { font-size: 1.6em; }
      .remark-slide-content h4 { font-size: 1.4em; }
      .footnote {
        position: absolute;
        bottom: 3em;
      }
      .navbar {
        position: absolute;
        float: center;
        top: 0em;
        font-family: 'titling-gothic';  /* Yanone Kaffeesatz */
        font-weight: 200;
        color: #A7A7A7;
      }
      .navbar a {
        color: #A7A7A7;
      }
      .bbar {
        position: absolute;
        bottom: 13px;
        left: 13px;
        font-family: 'titling-gothic';  /* Yanone Kaffeesatz */
        font-weight: 200;
        color: #A7A7A7;
      }
      .bbar a {
        color: #A7A7A7;
      }
      .btn {
        background: #424242;
        height: 2em;
      }
      .remark-slide-content {
        font-size: 1.5em;
        background: #272822;
        color: white;
      }
      li p { line-height: 1.25em; }
      .r { color: #fa0000; }
      .y { color: #FFFF00; }
      .pink { color: #FF87F3;}
      .orange { color: #FFA500;}
      .g { color: #00CC00; }
      .blue { color: #75E9FF;}
      .purple { color: #A149A9;}
      .large { font-size: 2em; }
      .black { color: black; background-color: white;}
      a, a > code {
        color: rgb(249, 38, 114);
        text-decoration: none;
      }
      code {
        background: #424242;
        border-radius: 5px;
      }
      .remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }
      .remark-code-line-highlighted     { background-color: #373832; }
/*      .pull-left {
        float: left;
        width: 47%;
      }*/
      .pull-left {
        float: left;
        width: 47%;
      }
      .pull-right {
        float: right;
        width: 47%;
      }
      .center {
        margin: auto;
        width: 100%;
        padding: 10px;
      }
      .small {
        font-size: 0.8em;        
      }
/*      .pull-right {
        float: right;
        width: 47%;
      }*/      
      .pull-bottom {
        position: absolute;
        bottom: 0;
      }
      .bottom {
        position: absolute;
        bottom: 35px;
        left: 13px;
        font-family: 'Yanone Kaffeesatz';
      }
      .pull-right ~ p {
        clear: both;
      }
      #slideshow .slide .content code {
        font-size: 0.8em;
      }
      #slideshow .slide .content pre code {
        font-size: 0.9em;
        padding: 15px;
      }
      .inverse {
        background: white;
        color: white;
        text-shadow: 0 0 20px #333;
      }
      .inverse p {
        color: white;
      }
      .inverse h1, .inverse h2 {
        color: #f3f3f3;
        line-height: 0.8em;
      }
      #frame { zoom: 0.75; -moz-transform: scale(0.75); -moz-transform-origin: 0 0; }

      /* Slide-specific styling */
      #slide-inverse .footnote {
        bottom: 12px;
        left: 20px;
      }
      #slide-how .slides {
        font-size: 0.9em;
        position: absolute;
        top:  151px;
        right: 140px;
      }
      #slide-how .slides h3 {
        margin-top: 0.2em;
      }
      #slide-how .slides .first, #slide-how .slides .second {
        padding: 1px 20px;
        height: 90px;
        width: 120px;
        -moz-box-shadow: 0 0 10px #777;
        -webkit-box-shadow: 0 0 10px #777;
        box-shadow: 0 0 10px #777;
      }
      #slide-how .slides .first {
        background: #fff;
        position: absolute;
        top: 20%;
        left: 20%;
        z-index: 1;
      }
      #slide-how .slides .second {
        position: relative;
        background: #fff;
        z-index: 0;
      }

      /* Two-column layout */
      .left-column {
        color: #777;
        width: 20%;
        height: 92%;
        float: left;
      }
      .left-column h2:last-of-type, .left-column h3:last-child {
        color: #000;
      }
      .right-column {
        width: 75%;
        float: right;
        padding-top: 1em;
      }
      br {
        line-height: 50%;
      }
      .task {
        float: right;
        font-size: 0.9em;
        padding-top: 0.6em;
      }

    </style>
  </head>
  <body onload="var slideshow = remark.create();">
    <textarea id="source">



class: center, middle

# [Open Connectome Project](http://openconnecto.me) & [NeuroData](http://neurodata.io): 
## Enabling Petascale Neuroscience

<!-- ### Joshua T. Vogelstein -->
<!-- ### {[BME](http://bme.jhu.edu),[ICM](http://icm.jhu.edu),[CIS](http://cis.jhu.edu),[Kavli](http://kndi.jhu.edu)}@[jhu](http://jhu.edu) -->

<!-- #### e: [jovo@jhu.edu](mailto:jovo@jhu.edu) | w:  -->
<!-- ### [NeuroData.io](http://neurodata.io) -->



#### these slides: <http://docs.neurodata.io/ndintro>

---

layout: true

.bbar[ _[Intro](#intro): Opportunity_ | [Tools](#tools) | [Applications](#applications) | [Discussion](#disc)]


---
name: intro



### Opportunity: Big Neuro Data

.pull-left[
.center[
<iframe width="380" height="300" src="https://www.youtube.com/embed/dS_ONoUrptg?rel=0" frameborder="0" allowfullscreen></iframe>
]
- Modality: Transmission Electron Microscopy Camera Array
- 4 x 4 x 40 nm^3
- 450 x 350 x 50 micron^3
- Size: ~10 TB
- Cite: Bock et al. (Nature) 2011
]


--

.pull-right[
.center[
<iframe width="380" height="300" src="https://www.youtube.com/embed/1aVNRZtxeIU?rel=0" frameborder="0" allowfullscreen></iframe>
]

- Modality: Serial Electron Microscopy w/ATUM
- Resolution: 3 x 3 x 30 nm<sup>3</sup>
- Volume: 40 x 40 x 50 &mu;m<sup>3</sup>
- Size: ~1 TB
- Cite: Kasthuri et al. (Cell) 2015
]


---

layout: true

.bbar[ _[Intro](#intro): Challenge_ | [Tools](#tools) | [Applications](#applications) | [Discussion](#disc)]

---

## Challenge #1: Synapse Dist'n




.center[
<iframe width="484" height="272" src="https://www.youtube.com/embed/dS_ONoUrptg?rel=0" frameborder="0" allowfullscreen></iframe>
]

- 8 million mm<sup>3</sup> &#10141; 8 million synapses
- Manual labeling requires ~10 sec / synapse
- 60 sec x 60 min x 8 hrs x 250 days = 8 million seconds
- A person can find 8 million synapses working for 10 years
- Question: Are synapses distributed uniformly in space?


---

## Challenge #2: Peter's Rule


.center[
<iframe width="372" height="272" src="https://www.youtube.com/embed/1aVNRZtxeIU?rel=0" frameborder="0" allowfullscreen></iframe>
]


- 916 excitatory axons
- 1,036 dendritic spines
- 7,505 spine touches
- 1,037 synapses
- Question: It Peter's rule a good model?


---

## Challenge:  5 steps to discovery

<br/>

.center[
<img src="https://www.lucidchart.com/publicSegments/view/9cc4763f-5a2a-44df-bc0c-540316d6d62d/image.png" alt="Drawing" style="height: 250px;"/>
]

<br />

Existing solutions are unable to elegantly handle petascale data


---

layout: true

.bbar[ _[Intro](#intro): Action_ | [Tools](#tools) | [Applications](#applications) | [Discussion](#disc)]


---

## [NeuroData](http://neurodata.io) meets needs to achieve 

<br/>

.center[
<img src="https://www.lucidchart.com/publicSegments/view/34ca1aee-8985-4758-8448-0e88acde786c/image.png" alt="Drawing" style="height: 250px;"/>
]


---

## Trade-offs at Each Step

<br />

| _Property_    | _Classical_ &nbsp;| _NeuroData_ &nbsp; | _Both_ |
| :---          | :----:      | :---:       | :---: |
| Quality     | .g[&check;]   | .r[&cross;] | .g[&check;] |
| Scalability | .r[&cross;]   | .g[&check;] | .g[&check;] |
| Capabilities| .g[&check;]   | .r[&cross;] | .g[&check;] |
| 1-clickiness| .r[&cross;]   | .g[&check;] | .g[&check;] |


--

<br />

.white[The ideal system will include both classical and novel NeuroData methods, as they complement one another.]


---

layout: true

.bbar[ _[Intro](#intro): Resolution_ | [Tools](#tools) | [Applications](#applications) | [Discussion](#disc)]

---

# Resolution

<iframe src="http://neurodata.io/" allowtransparency="true" width="100%" height="500" style="border:none" background="white"></iframe>



---
layout: false

# Outline

<br />

- Motivation
- Tools: for each step
  - Overview of the goals
  - Capabilities of NeuroData analysis paradigm
- Applications: for each step
  - Capabilities currenly provided
- Discussion



---
name: tools

.bbar[ [Intro](#intro)  | _[Tools](#tools)_ | [Applications](#applications) | [Discussion](#disc)]


# Tools

<br />


1. [Infrastructure](#infra)
3. [Store](#store)
4. [Explore](#explore)
5. [Pre-Proc](#pre)
6. [Parse](#parse)
7. [Analyze](#anal)

---

layout: true

.bbar[ [Intro](#intro)  | _[Tools](#infra): Infrastructure_ | [Applications](#applications) | [Discussion](#disc)]

---
name: infra

## Data  Cluster

.center[
<img src="http://docs.neurodata.io/open-connectome/_images/ocp_cluster.png" style="width: 700px;"/>
]

- Head node serves as Web proxy and load balance
- Application Server nodes can perform cutout, propagate, and other Web-services
- Databases store Image DB and Tile Cache on SSD array
- Brainapps,  Brain Cloud, Awesome, Awesomer, Intel Phi, BrainViz (K80)




---

## Data Management

<br />

- .y[ND Backend]:   [Code](https://github.com/openconnectome/open-connectome) | 
[API](http://docs.neurodata.io/open-connectome/) | [Tutorials](http://docs.neurodata.io/open-connectome/sphinx/console.html) | [Manuscript](http://arxiv.org/abs/1306.3543) | [Docker](https://github.com/openconnectome/open-connectome//setup/Dockerfile) | [Setup](https://github.com/openconnectome/open-connectome/setup) 
 
  - ND Spatial Database to store images and volumetric annotations 
  - ND Annotation Database to manage annotation metadata
  - ND Web-console to manage image database 
- .y[ND LIMS] for managing additional metadata: [Code](https://github.com/openconnectome/ndlims) | [Demos](https://github.com/openconnectome/LIMS-Scripts)
- .y[ND Tile Cache] enables content distribution network: [Code](https://github.com/openconnectome/ocptilecache) | [API](http://docs.neurodata.io/ocptilecache/api/tilecache_api.html)
- .y[ND RAGDB] Database of Richly Attributed Graphs: [Web](http://openconnecto.me/graph-services/) | [Code](https://github.com/openconnectome/m2g/tree/master/MR-OCP)


---
name: r_store

## Image Read

<br />
<br />

.pull-left[
<img src="images/cutout_timing.png" alt="Drawing" style="width: 100%;" />
]

.pull-right[
<img src="images/tilecache.png" alt="Drawing" style="width: 100%; background: white;"/>
]


---
## Image Write

<br />

.center[
<img src="images/blaze.png" alt="Drawing" style="width: 100%; background: white;"/>
]



---

## Data Analytics 

<br />

- .y[ndio] Python library for I/O: [Code](https://github.com/openconnectome/ndio) | [API](http://docs.neurodata.io/ndio/) | [Tutorials](http://docs.neurodata.io/nddocs/ndio/tutorials.html)
- .y[CAJAL] MATLAB Toolbox for I/O & more: [Code](http://github.com/openconnectome/cajal) | [Docs](http://docs.neurodata.io/CAJAL/) 
- .y[AMI] Amazon Machine Instance to run terascale scale analyses: [Setup](http://docs.neurodata.io/nddocs/ami.html)
- .y[AWS Cluster] to build high-performance cluster to run petascale analyses (coming soon)



---

layout: true

.bbar[ [Intro](#intro)  | _[Tools](#store): Store_ | [Applications](#applications) | [Discussion](#disc)]

---
name: store


## Images: .y[SpDB] 

[Code](https://github.com/openconnectome/open-connectome) | 
[Data Model](http://docs.neurodata.io/open-connectome/sphinx/datamodel.html) | 
[Ingest](http://docs.neurodata.io/open-connectome/sphinx/ingesting.html) |
[Types](http://docs.neurodata.io/open-connectome/api/ocp_types.html) |
[API](http://docs.neurodata.io/open-connectome/) | [Manuscript](http://arxiv.org/abs/1306.3543) | [LIMS](https://github.com/openconnectome/ndlims) | [App](#r_infra)


.pull-left[
###  Storage Model
- Image Data Model to store images & associated metadata
- Dense multi-dimensional spatial array partitioned into cuboids
- Space filling curve minimizes the number of accesses
- Multi-resolution zoom pyramid
- 3rd party support: CATMAID, Viking, KNOSSOS, VAST, BigDataViewer
]

.pull-right[
### Functions 
- Project Info
- Public Tokens
- Get/Post {HDF5, Blosc, Numpy} cube
- Get {XY, YZ, XZ}
- Get Tile
- Get/Post NifTI
- Get/Post SWC
- Overlay {XY, XZ, YZ}
- Downsample
- Histogram Window
]


---
name: r_infra

##  EM Datasets

<br />

| Species | Ref. |
| :---    | :---  |
| [C elegans, herm](http://openconnecto.me/herm-c-elegans) | Emmons Lab
| [C elegans, male](http://openconnecto.me/male-c-elegans) | Emmons Lab
| [C elegans, Pharynx](http://openconnecto.me/bhatla15) | Bhatla et al. Current Biology, 2015
| [P pacificus](http://openconnecto.me/bumbarger13) | Bumbarger et al. Cell, 2013
| [Drosophila Optic Medulla](http://openconnecto.me/takemura13) | Takemura et al. Nature, 2013
| [Drosophila larva](http://openconnecto.me/behaviotypes) | Ohyama et al., Nature, 2015
| [Hippocampus Neuropil](http://openconnecto.me/synapseweb) | Harris et al., Scientific Data, 2015
| [Mouse, V1](http://openconnecto.me/bock11/) | Bock et al., Nature, 2011
| [Mouse, S1](http://openconnecto.me/Kasthurietal2014) | Kasthuri et al., Cell, 2015

<br />

Total Size: ~ 80 TV



---

## Annotations: .y[RamonDB]


[Data Model](http://docs.neurodata.io/nddocs/ramon.html) | 
[Code](https://github.com/openconnectome/open-connectome) | [API](http://docs.neurodata.io/open-connectome/api/ramon_api.html) |  [Tutorials](http://docs.neurodata.io/nddocs/ramonnd.html)
| [App](#r_anno)

.pull-left[
####  Data Model 
  - Base
  - Neuron
  - Volume
  - Generic
  - Synapse
  - Segment
  - Organelle
  - ROI
  - Node
  - Skeleton
]

.pull-right[
#### Functions
  - Post/Get Annotation
  - Set/Get Field
  - Merge
  - Get Graph
  - Get Skeleton  
  - Undo
]


---
name: r_anno

## Annotation  Datasets

<br />

- AC3
- AC4
- Kasthuri et al. (Cell, 2015)
- Harris et al. (Scientific Data, 2015)
- Allen Reference Atlas

<br />

Total Volume Densely Annotated: ~ 1000 &micro;m<sup>3</sup>



---

## Graphs: .y[GruteDB]

[Web](http://openconnecto.me/graphs) |
[Code](https://github.com/openconnectome/m2g/tree/master/MR-OCP)
| [App](#r_graphs)

.pull-left[
####  Data Model 
  - Store graphs as FlashGraph 
  - Metadata  in django data model
  - Supports the following types
   - Directed, undirected
   - Hypergraphs
   - Hierarchical graphs
   - Richly attributed graphs
]

.pull-right[
#### Functions 
  - Convert format
  - Download
  - Build from fibers
  - Build from DTI 
  - Compute Invariants  
  - Downsample
]


---
name: r_graphs

## Graph Datasets

<br />

- [Bock et al.](http://openconnecto.me/mrdata/static/graphs/mouse/mouse_visual.cortex_1.graphml)
- Kasthuri et al.


<br />

We have Diffusion MRI derived graphs from ~10,000 subjects for ~30 atlases each, yielding > 250,000 total derived graphs.



---



layout: true

.bbar[ [Intro](#intro)  | _[Tools](#explore): Explore_ | [Applications](#applications) | [Discussion](#disc)]

---
name: explore

## Images: .y[Image Explorer (ix)]

[Web](ix.neurodata.io) | [Code](https://github.com/openconnectome/NeuroDataViz) | [App](#r_explore)

.pull-left[
#### Highlights
- Uses [Leaflet.js](http://leafletjs.com/)
- Enables pan & zoom in 3D
- Supports multispectral data (4D)
- Supports time-series data (4D)
- Works on mobile & Web
- Image & Anno. Metadata
- Collaboration tools
]

.pull-right[
### Examples
- [Volumetric annotation overlays](http://brainviz1.cs.jhu.edu/ndv/kharris15apical/em,ramon_test/3/507/469/90/)
- [Multispectral blending](http://brainviz1.cs.jhu.edu/ndv/project/Aratome15c_S17_W10/1/5818/527/0/)
- [Time-series](http://openconnecto.me/ocp/viz/freeman14/)

]


---
name: r_explore


## Images: [Image Explorer (ix)](https://github.com/openconnectome/neurodataviz)

<br />


<iframe allowtransparency="true" style="background: #FFFFFF;" src="http://brainviz1.cs.jhu.edu/ndv/kharris15apical/em,annos/2/1126/998/88/" frameborder="0" height="500" width="100%">
</iframe>




---

## Graphs: .y[Graph Explorer (gx)]

[Web](http://gx.neurodata.io) | [Code](https://github.com/openconnectome/Graph-Explorer) | [App](#r_gx)

.pull-left[
#### Highlights

- Shiny app
- Can load any graphml file, including attributes
- Calls [igraph](http://igraph.org/) in background 
]

.pull-right[
#### Functions

- Load or randomly sample graph
- Sample graph from many different random graph models
- Compute attributes of graph
- Plot graph
- Compute & plot graph statistics
- Find communities
- Save state
]



---
name: r_gx


## Graphs: [Graph Explorer (gx)](http://gx.neurodata.io)

<br />

<iframe allowtransparency="true" style="background: #FFFFFF;" src="http://gx.neurodata.io" frameborder="0" height="500" width="100%">
</iframe>



---

## Vectors: .y[Vector Explorer (vx)]

[Web]((http://vx.neurodata.io) | [Code](https://github.com/ikuznet1/data-analytics-website/) |  [App](#r_vx)

.pull-left[
#### Highlights

- Shiny app
- Load csv file
- Interactive analysis with no coding req.
]
.pull-right[
#### Functions

- Raw, z-scores, percentiles, or ranks
- Heatmap of bi-clustered data with dendrograms
- Distributions of each feature
- Multivariate outlier detection
- Correlation & distance matrices
- Population statistics
- Dimensionality reduction
- Clustering
]

---
name: r_vx


## Vectors: [Vector Explorer (vx)](http://shiny.neurodata.io/Vector-Explorer/)

<br />

<iframe allowtransparency="true" style="background: #FFFFFF;" src="http://shiny.neurodata.io/Vector-Explorer/" frameborder="0" height="500" width="100%">
</iframe>




---

layout: true

.bbar[ [Intro](#intro)  | _[Tools](#pre): Pre-Proc_ | [Applications](#applications) | [Discussion](#disc)]

---
name: pre


## Geometric

<br />

### 3rd party apps

- [Terastitcher](http://abria.github.io/TeraStitcher/)
- [Reconstruct](http://synapses.clm.utexas.edu/tools/reconstruct/reconstruct.stm)
- [Fiji Elastic Aligment & Montage](http://fiji.sc/Elastic_Alignment_and_Montage)
<!-- ## Pre: Fiji = ImageJ
<img src="http://fiji.sc/_images/b/ba/Aligned-series-crop-512.gif"   alt="Drawing" style="position: fixed; right: 600px; height: 150px;"/>
<br /><br /><br /><br /><br />
 -->

<br />
.center[
<img src="https://raw.githubusercontent.com/abria/TeraStitcher/gh-pages/images/overview.png"   alt="Drawing" style="height: 150px;"/>
]



---


## Chromatic: .y[dmg] & .y[gdf]


<br />

.pull-left[
#### .y[dmg]

[Web](https://github.com/mkazhdan/DMG) | [Code](https://github.com/mkazhdan/DMG) | [Manuscript](http://www.cs.jhu.edu/~misha/MyPapers/ToG10.pdf) | [App](#r_pre)

- dmg = Distributed MultiGrid Poisson solver
- 2D image stitching chromatic corrections
- Smoothing/Sharpening/High-Low Composting 
]

.pull-right[
#### .y[gdf]

[Manuscript](http://arxiv.org/pdf/1506.02079v1.pdf) | [App](#r_3d)

- gdf = Gradient Domain Fusion
- 3D image chromatic corrections
- Web-service coming soon
]


---
name: r_pre

## Chromatic

### 2D Color Correction


.center[
<img src="images/original_zy.jpg" alt="Drawing" style="height: 200px;"/>
<img src="images/screened_zy.jpg" alt="Drawing" style="height: 200px;"/>
]


### 3D Color Correction


.center[
<img src="images/GDF2.png" alt="Drawing" style="width: 80%;"/>
]







---
## Register Volume: .y[ndreg]

<br />

[Code](https://github.com/openconnectome/ndreg) | [Demo](https://github.com/openconnectome/ndreg/blob/master/maskPipelineExample.ipynb) | [Setup](https://github.com/openconnectome/ndreg/blob/master/README.md) | [App](#r_ndreg)

.pull-left[
#### Highlights

- Python wrapper for SimpleITK
- Open source [LDDMM](http://www.cis.jhu.edu/software/lddmm-volume/) nonlinear C implementation with Python bindings
- Integrated with .y[ndio]

<br />
]
.pull-right[
#### Functions

- Rigid, Affine, and Nonlinear
- Can apply to landmarks, masks, or images
- Includes automatic masking
- Quality control metrics
]




<img src="images/ndreg2.png" alt="Drawing" style="height: 225;"/>
<img src="images/ndreg.png"   alt="Drawing" style="height: 225px;"/>



.bottom[https://github.com/openconnectome/ndreg/blob/master/maskPipelineExample.ipynb]






---

layout: true

.bbar[ [Intro](#intro)  | _[Tools](#parse): Parse_ | [Applications](#applications) | [Discussion](#disc)]


---
name: parse

## Label: .y[manno]

[Docs](http://docs.neurodata.io/manno) | [Code](https://github.com/openconnectome/manno)


.pull-left[
<!-- ## Pre: [ITK-SNAP](http://www.itksnap.org/pmwiki/pmwiki.php) -->
1. Identify ROI
2. Use CAJAL/ndio to download data
3. run `manno_getImage.m` to get image
4. Annotate using [ITK-SNAP](http://www.itksnap.org/pmwiki/pmwiki.php)
5. Save annotations
5. run `manno_putAnno.m` to put annotation database
]

.pull-right[
<!-- ## ND: ITK-SNAP + [manno](docs.neurodata.io/manno) -->
.center[
<img src="http://docs.neurodata.io/manno/_images/manno_itk_example.jpg"   alt="Drawing" style="height: 250px;"/>
]]



---
## Build: .y[macho]

[Docs](http://docs.neurodata.io/macho/) | [Code](https://github.com/openconnectome/macho) 


.pull-left[
<!-- ## Pre: [ilastik](http://ilastik.org/) -->
- Get Data
- [ilastik](http://ilastik.org/) integration
- Visualize results
- ROC Curves
- Sweep over hyper-parameters
- Cross-validate
- Put Data

]

.pull-right[
<!-- ## ND: ilastic+CAJAL/ndio -->
.center[
<img src="http://ilastik.org/gallery/Figure2a.png"   alt="Drawing" style="height: 250px;"/>
]]




---
## Deploy: .y[maxxo]

[App](#r_syn)
<br />

.pull-left[
- Use [LONI Pipeline](http://pipeline.bmap.ucla.edu/)
- GUI to generate workflow connecting modules
- Each module calls a single executable
- Get Cubes for each worker node
- Each node processes data and spits out its answer
- CAJAL then merges them back together
- And sends back to database
]


.pull-right[
.center[
<img src="http://www.frontiersin.org/files/Articles/609/fninf-03-022/image_m/fninf-03-022-g002.jpg"    alt="Drawing" style="height: 250px;"/>
]]


---
name: r_parse



## Previously Published

- Vesicle: EM Synapse Detection 
  - [Random Forest](http://docs.neurodata.io/vesicle/tutorials/vesiclerf.html)
  - [Deep Network](http://docs.neurodata.io/vesicle/tutorials/vesiclecnn.html)
- [i2g](http://i2g.io/): EM Images to Graphs 

.center[
<img src="http://docs.neurodata.io/i2g/_images/i2g_overview.jpg"    alt="Drawing" style="height: 250px; "/>
]


---

layout: true

.bbar[ [Intro](#intro)  | _[Tools](#anal): Analyze_ | [Applications](#applications) | [Discussion](#disc)]

---
name: anal

## Image & Shape Statistics

.pull-left[
#### Highlights

- Histogram Statistics
- [Shape Spherical Harmonics](https://github.com/mkazhdan/ShapeSPH)
  - Descriptions
  - Alignment
  - Symmetry
]


.pull-right[
#### Functions

- Length
- Eccentricity
- LDDMM
- 3D rotationally invariant  co-occurence features
- Percentiles, means, histograms
- Eigenfunctions of deformations
]




---
## Graph Statistics: [FlashX](http://flashx.io)


[Webpage](http://flashx.io) | [Code](https://github.com/icoming/FlashX)   | [AMI](http://www.flashgraph.net/documents/get_started2) | [Virtual Box](http://openconnecto.me/data/public/FlashGraph-VMs/) | [Setup](http://www.flashgraph.net/documents/get_started2) | [Manuscript](https://www.usenix.org/system/files/conference/fast15/fast15-paper-zheng.pdf) 

.pull-left[
#### Highlights
- Store vertex state in memory, edge list on array of SSDs 
- 1B vertex & 100B edge graphs
- R bindings for all functions
- Coming soon
  - [Joint  Embedding (w/missing values)](http://arxiv.org/abs/1502.03391)
  - [Nonpar 2-Sample Testing](http://arxiv.org/abs/1409.2344)
  - [Semipar 2-Sample  Testing](http://arxiv.org/abs/1403.7249)
  - [Vertex Clustering](http://arxiv.org/abs/1310.0532)
  - [Vertex Classification](http://arxiv.org/abs/1212.1182)
  - [Graph Matching](http://arxiv.org/abs/1405.3133)
  - [Hiearchical Modeling](http://arxiv.org/abs/1503.02115)
  - [Errorful Modeling](http://arxiv.org/abs/1211.3601)
]

.pull-right[
#### Functions
- Graph Traversal
  - Breadth-First Search
  - Triangle Counting
  - Connected Components
  - Scan Statistic
  - Page Rank
  - Community detection

- Matrix Operations
  - PageRank
  - Eigendecomposition
  - Singular Value Decomposition
  - K-means
  - Non-negative matrix factorization (NMF)
]



---
## Vector Statistics


.pull-left[
### Projects
- [LOL](http://jovo.me/LOL/)
- [Randomer Forest](http://ttomita.github.io/RandomerForest/)
- [Multiscale Dictionary Learning](https://github.com/jovo/conditional-density-estimation)
- Optimal Discovery Science via Maximizing Reliability
- Dependence Discovery for Multi Manifold Data
]


.pull-right[
### Inference Tasks

- 2-class classification
- Multiclass classification
- Regression
- Two-sample Testing
- Dependence Testing
- Density Estimation
]


.center[
<iframe src="https://drive.google.com/file/d/0B7nlh5n4ioGtOW1RLWdvUkN5SWs/preview" width="700px" height="200px"></iframe>
]

---
layout: true

.bbar[ [Intro](#intro)  | [Tools](#tools) | _[Applications](#applications)_ | [Discussion](#disc)]

---
name: applications


### Case Study #1: Reproducing Results from Kasthuri et al. (Cell) 2011

#### Is probability of synapse proportional to relative proximity?

.pull-left[
1. extract attributed graph
2. define null distribution
4. determine test statistic
3. sample from null using igraph
4. compute test statistic on observed & sampled data
5. evaluate p-value
6. visualize samples from null for model checking purposes
1. live python notebook coming soon...
]




---
name: r_syn

### Case Study #2: Is synapse distribution uniform in space?


<br />

.center[
<img src="images/rob2.png"    alt="Drawing" style="width: 75%; "/>
]

Detecting ~11.6 million synapses from the [bock11](http://openconnecto.me/bock11) dataset

???

timings

---
name: r_anal

### Case Study #2: Is synapse distribution uniform in space?


.pull-left[
<br />
1. find all synapses
2. plot 1% of them in 3D scatter plot
1. Mask out regions that cannot have synapses
1. Partition volume into cuboids
2. Count # of elements / cuboid
3. Normalize by volume of cuboid not masked
4. Plot normalized volume in 3D scatter plot
5. Plot marginals
6. Report p-value
1. live python notebook coming soon...
]


.pull-right[
<br />
.center[
<img src="images/3D.png"    alt="Drawing" style="width: 350px; "/>
<img src="images/2Dproj.png"    alt="Drawing" style="width: 350px; "/>
]]





---

layout: true

.bbar[ [Intro](#intro)  | [Tools](#tools) | [Applications](#applications) | _[Discussion](#disc)_]

---
name: disc

# Discussion

<br />


- Contributions & Implications
- Other inference tasks to be integrated
- Other modalities
- Related Work
- Next steps


---

## Open Science Contributions

<br />

- Reference datasets in a variety of modalities
- Reference pipelines for operating on such data
- Web-services for data access
- Computing configuration
- A cloud computing stack to facilitate analysis
- Detailed specs for plugging in different routines
- Data derivatives at all stages of analysis

--

<br />

#### Implications: it is now easier to

<br />

- Answer questions the require scale
- Engage complementary expertise
- Bridge across scales and modalities 
- Reproduce results


---

## Coming soon...

<br />

- [Ophys Spike detection](https://github.com/jovo/oopsi)
- Ephys Spike Detection: [batch](https://github.com/jovo/spike-sorting), [online](https://github.com/decarlson/opass)
- [m2g](http://m2g.io/): MRI to Graphs
- IF Synapse Detection
- Ophys Cell Detection
- Cell detection for micron resolution data


---

## Other Image Datasets


- [Array Tomography](http://neurodata.io/modalities/at)
- [CLARITY](http://neurodata.io/modalities/clarity) 
- [Multi-modal MRI](http://neurodata.io/modalities/mri)
- [Optophysiology](http://neurodata.io/modalities/ophys)
- X-Ray Tomography
- Expansion Microscopy
- Histology

## Other Annotation Datasets

- Allen Reference Atlas
- ~30 different Human MRI Atlases (spanning pediatrics thru geriatrics)

## Other Graph Datasets

- ~10,000  Diffusion MRI derived neurographs
- ~2,0000 function MRI derived neurographs


---


# Related Work

<br />

- [CATMAID](http://catmaid.readthedocs.org/en/stable/)
- [Neurodata Without Borders](http://nwb.org/)
- [Keller Lab Block File Format](http://www.nature.com/nprot/journal/v10/n11/abs/nprot.2015.111.html)
- [Thunder](http://thunder-project.org/)



---


## Challenge #3: Cortical Column Conjecture?

<br />

0. Infrastructure: manage  1 mm<sup>3</sup> of cortical data and derivatives at nm resolution
0. Store: 1 petabyte in the cloud
1. Explore: using NeuroDataViz
2. Pre-process: ?
3. Parse: ?
4. Analyze: Hierarchical Attributed Stochastic Block Model



---


## Further Lowering the Barrier to Entry

<br />

- Put it all together
- Apply to other domains & questions
- Deploy backend and analytics stack in commercial cloud
- We work together!



---

layout: false
class:  center

# NeuroData Family

<br />

.center[
.small[
|   |   | |
| :--- | :--- | :--- |
| Data | &nbsp;&nbsp;&nbsp;&nbsp; | .purple[Clay Reid, Davi Bock, Jeff Licthman, Bobb Kasthuri, Karl Deisseroth, Raju Tomer, Li Ye, Ed Boyden, Mike Milham, Cameron Craddock, Stephen Smith, Forrest Collman, Kristen Harris, Scott Emmons, Dan Bumbarger, Mitya Chklovskii, Nikhil Bhatla] 
| Store | | Randal Burns, Eric Perlman, Kunal Lillaney, Priya Manavalan, Alex Eusman 
| Explore | | .orange[Misha Kazhdan, Alex Baden, Jordan Matelsky]
| Pre-Proc | | .y[Mike Miller, Micholas Charon, Kwame Kutten, Greg Kiar, Eric Bridgeford, Greg Hager]
| Parse | | .g[Will Gray Roncal, Mark Chevillet,  Deank Kleissas, R. Jacob Vogelstein, Guillermo Sapiro, Anish Simhal, Konrad Kording, Eva Dyer]
| Analyze | | .blue[Joshua T. Vogelstein, Carey Priebe, Dan Naiman,  Tyler Tomita, Youngser Park, Cencheng Shen, Ivan Kuznetsov]
| Graphs | | .black[Da Zheng, Disa Mhembere, Vince Lyzinski, Avanti Athreya, Daniel Sussman, Shangsi Wang, Runze Tang, Minh Tang]
| Love | | .pink[yummy, family, friends, earth, universe, multiverse?]
]]


---

# References

<br />


1. Burns B et al. [The Open Connectome Project Data Cluster: Scalaballe Analysis and Vision for High-Throughput Neuroscience](http://arxiv.org/abs/1306.3543).  Scientific and Statistical Database Management (SSDBM), 2013.

1. Burns B, Vogelstein JT, Szalay AS. [From Cosmos to Connectomes: the Evolution of Data-Intensive Science](http://www.sciencedirect.com/science/article/pii/S0896627314007466). Neuron, 2015.


---
class:   center


# Questions?

<!-- ### Funding &nbsp;&nbsp;&nbsp;&nbsp;   -->

<br />

_____

Funding


NIH: TRA

NIH/NSF:  {BIGDATA, CRCNS} 

DARPA: {XDATA,GRAPHS,SIMPLEX} 


____


w: [neurodata.io](http://neurodata.io)

d: [docs.neurodata.io](http://docs.neurodata.io)

e: [support@neurodata.io](mailto:support@neurodata.io) 


____


[more slides](http://docs.neurodata.io/ndintro/more.html)





    </textarea>
    <script src="https://gnab.github.io/remark/downloads/remark-latest.min.js" type="text/javascript">
    </script>
    <script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML&delayStartupUntil=configured" type="text/javascript"></script>
    <script type="text/javascript">
      var slideshow = remark.create();

      // Setup MathJax
      MathJax.Hub.Config({
          tex2jax: {
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre']
          }
      });
      MathJax.Hub.Queue(function() {
          $(MathJax.Hub.getAllJax()).map(function(index, elem) {
              return(elem.SourceElement());
          }).parent().addClass('has-jax');
      });

      MathJax.Hub.Configured();

      var slideshow = remark.create({
        // Set the slideshow display ratio
        // Default: '4:3'
        // Alternatives: '16:9', ...
        ratio: '4:3',

        // Navigation options
        navigation: {
          // Enable or disable navigating using scroll
          // Default: true
          // Alternatives: false
          scroll: true,

          // Enable or disable navigation using touch
          // Default: true
          // Alternatives: false
          touch: true,

          // Enable or disable navigation using click
          // Default: false
          // Alternatives: true
          click: false
  },

  // Customize slide number label, either using a format string..
  // slideNumberFormat: 'Slide %current% of %total%',
  // .. or by using a format function
  slideNumberFormat: function (current, total) {
    return  current + ' / ' + total;
  },

  // Enable or disable counting of incremental slides in the slide counting
  countIncrementalSlides: false
}); 
    </script>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
  </body>
</html>
